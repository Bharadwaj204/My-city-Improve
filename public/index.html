<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>My City — Report an Issue</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>body{font-family:Arial,Helvetica,sans-serif;max-width:900px;margin:20px auto;padding:0 12px}label{display:block;margin-top:10px}img.preview{max-width:200px;margin-top:8px}</style>
</head>
<body>
  <h1>Report a civic issue</h1>
  <form id="complaintForm">
    <label>Description (required)
      <textarea name="description" id="description" rows="4" style="width:100%" required></textarea>
    </label>
    <label>Email (optional — to receive updates)
      <input type="email" name="email" id="email" style="width:100%" />
    </label>

    <label>Location (click on map or enter lat/lng)
      <div id="map" style="height:320px;background:#eee;margin-top:8px;">Map placeholder — add your Google Maps API key in the HTML to enable.</div>
      <div style="margin-top:8px;display:flex;gap:4%;justify-content:space-between">
        <input type="text" name="lat" id="lat" placeholder="Latitude" style="width:48%" />
        <input type="text" name="lng" id="lng" placeholder="Longitude" style="width:48%" />
      </div>
    </label>

    <label>Photo (optional)
      <input type="file" name="photo" id="photo" accept="image/*" />
      <div id="photoPreview"></div>
    </label>

    <button type="submit">Submit complaint</button>
  </form>

  <hr />
  <p>Admin? <a href="/admin.html">Open admin dashboard</a></p>
  <p>Public resolved issues: <a href="/resolved.html">View resolved</a></p>

  <script src="/js/app.js"></script>
  <!-- Google Maps API (key from .env) -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2uHDH2aPzpbYR1kb_f3yg2GH_42MmT80&callback=initMap"></script>
</body>
</html>
